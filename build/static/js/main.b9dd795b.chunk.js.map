{"version":3,"sources":["components/Profile/Posts/MyPosts.module.css","components/common/preloader/Preloader.module.css","components/Dialogs/Message/Message.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/Navbar.module.css","components/Header/Header.jsx","api/api.js","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Profile/Posts/MyPosts/Post.jsx","components/Profile/Posts/MyPosts.jsx","components/Profile/Posts/MyPostsContainer.jsx","Redux/profile-reducer.js","components/common/preloader/Preloader.js","assets/images/user.png","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileInfo/ProfileInfoContainer.jsx","components/Profile/Profile.jsx","hoc/withAuthRedirect.jsx","components/Profile/ProfileContainer.jsx","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","Redux/dialogs-reducer.js","components/Dialogs/Message/AddMessage.jsx","components/Dialogs/Message/AddMessageContainer.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","Redux/users-reducer.js","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","Redux/app-reducer.js","App.js","Redux/sidebar-reducer.js","Redux/redux-store.js","index.js","components/Login/Login.module.css","components/Profile/Posts/MyPosts/Post.module.css","components/Header/Header.module.css","components/Dialogs/Message/AddMessage.module.css","components/Profile/ProfileInfo/ProfileStatus.module.css","components/Dialogs/Dialogs.module.css","components/Users/Users.module.css","components/Dialogs/Dialog/Dialog.module.css"],"names":["module","exports","Header","props","className","h","header","logo","to","logoTitle","isAuth","logined","login","onClick","deleteLogin","loginBlock","path","instance","axios","create","withCredentials","headers","baseURL","usersAPI","currentPage","pageSize","get","then","response","data","id","post","delete","profileAPI","userId","status","put","headerAPI","authAPI","email","password","rememberMe","SET_USER_DATA","SET_ERROR_MESSAGE","initialState","loginData","errorMessage","isError","setAuthUserData","type","dispatch","a","resultCode","authReducer","state","action","message","HeaderContainer","this","React","Component","compose","connect","auth","Navbar","classes","nav","nav__item","activeClassName","active","Post","s","item","avatar","src","nickname","name","postText","likesCount","like","dislikesCount","dislike","MyPosts","postElements","posts","map","p","MyPostsContainer","profilePage","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_USER_STATUS","user","surname","userProfile","userStatus","newPostText","setUserStatus","updateStatus","profileReducer","newPost","profile","Preloader","preloader","ProfileStatusHooks","useState","editMode","setEditMode","setStatus","useEffect","deactivateEditMode","profileStatus","onChange","e","currentTarget","value","onBlur","onKeyDown","event","keyCode","autoFocus","ProfileInfo","newPostRef","createRef","profileInfo","profileHeader","profileHeaderImg","profile__img1","profileHeaderAvatar","profileAvatar","photos","large","userAvatar","alt","usersInfo","profileName","fullName","about","aboutMe","inst","contacts","instagram","profileContent","profilePosts","ref","text","current","updateNewPostText","placeholder","cols","rows","postMessageBtn","addPost","ProfileInfoContainer","userName","userSurname","Profile","mapStateToPropsRedirect","withAuthRedirect","authRedirectComponent","ProfileContainer","match","params","myId","getUserProfile","getUserStatus","urlData","withRouter","Dialog","dialog","dialogs_img","Message","SEND_MESSAGE","UPDATE_NEW_DIALOG_TEXT","dialogs","messages","dialogsReducer","body","newMessage","AddMessage","addPostItem","target","updateNewMessage","sendMessage","addMessageContainer","dialogsPage","updateNewDialogActionCreator","Dialogs","dialogsElements","d","messagesElements","m","dialogs_items","dialogs_messages","AddMessageContainer","LoginForm","validationSchema","yup","shape","typeError","required","initialValues","validateOnBlur","onSubmit","values","postLogin","errors","touched","handleChange","handleBlur","isValid","handleSubmit","dirty","formBlock","form","formTitle","error","formRememberMe","defaultChecked","submitBtn","disabled","Login","LoginContainer","console","log","FOLLOW","UNFOLLOW","SET_USERS","UPDATE_PAGE","TOGGLE_FETCHING","SET_TOTAL_USERS_COUNT","FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSucces","unfollowSucces","toggleFetching","toggleFollowingProgress","isFollowing","FollowUnfollowFlow","idUser","APIMethod","ActionCreator","usersReducer","u","followed","newPage","count","filter","Users","pagesCount","Math","ceil","pages","i","page","setPage","usersPage","usersContent","usersAvatar","small","userPhoto","some","unfollow","followBtn","follow","pageNumbers","onPageChange","previousPagination","paginationItem","pagesPagination","length","nextPagination","getUsersList","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","updatePage","getUsers","items","totalCount","SET_INITIALAIZED","initialaized","appReducer","App","initializeApp","initialized","render","DialogsContainer","app","promise","Promise","all","sidebarReducer","reducers","combineReducers","sidebarPage","store","createStore","applyMiddleware","thunkMiddleware","window","getState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b9dd795b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__3c63m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__28ymF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3lXY_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileHeaderImg\":\"ProfileInfo_profileHeaderImg__1VZBJ\",\"profile__img1\":\"ProfileInfo_profile__img1__gEtVo\",\"profileAvatar\":\"ProfileInfo_profileAvatar__1Z1ag\",\"usersInfo\":\"ProfileInfo_usersInfo__16dkg\",\"profileTitle\":\"ProfileInfo_profileTitle__2W_yr\",\"profile__img2\":\"ProfileInfo_profile__img2__ids6I\",\"description\":\"ProfileInfo_description__PzEZq\",\"profilePosts\":\"ProfileInfo_profilePosts__jvPjP\",\"postMessageBtn\":\"ProfileInfo_postMessageBtn__2fw9c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__wtbfD\",\"nav__item\":\"Navbar_nav__item__WkiNi\",\"active\":\"Navbar_active__MBj6g\"};","import h from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={h.header}>\r\n\t\t\t<span className={h.logo}><NavLink to={'/'} className={h.logoTitle}>New balance</NavLink></span>\r\n\t\t\t{props.isAuth ? <div className={h.logined}>{props.login} <button onClick={props.deleteLogin}>Log Out</button></div>\r\n\t\t\t\t: <div className={h.loginBlock}><NavLink to={'/login'} path={'/login'}>Sign in</NavLink></div>}\r\n\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import axios from \"axios\"\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': '9819625b-960b-4a74-bd31-5899627502e9'\r\n\t},\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => { return response.data });\r\n\t},\r\n\tpostFollow(id) {\r\n\t\treturn instance.post(`follow/${id}`, {}).then(response => { return response.data });\r\n\t},\r\n\tdeleteFollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`, {}).then(response => { return response.data });\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfileData(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => { return response.data });\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`).then(response => { return response.data });\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status }).then(response => { return response.data });\r\n\t}\r\n}\r\n\r\nexport const headerAPI = {\r\n\tgetLoginData() {\r\n\t\treturn instance.get(`auth/me`).then(response => { return response.data });\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tpostLogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post('auth/login', { email, password, rememberMe }).then(response => { return response.data })\r\n\t},\r\n\tdeleteLogin() {\r\n\t\treturn instance.delete('auth/login').then(response => { return response.data })\r\n\t}\r\n}","import { authAPI, headerAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\nconst SET_ERROR_MESSAGE = 'SET-ERROR-MESSAGE';\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tloginData: [],\r\n\terrorMessage: [],\r\n\tisError: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data,\r\n\t\t\t\tisError: false\r\n\t\t\t}\r\n\t\tcase SET_ERROR_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.message,\r\n\t\t\t\tisError: true,\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: { userId, email, login, isAuth } })\r\nexport const errorMessage = (message) => ({ type: SET_ERROR_MESSAGE, message })\r\n\r\nexport const loginData = () => async (dispatch) => {\r\n\tlet data = await headerAPI.getLoginData();\r\n\r\n\tif (data.resultCode === 0) {\r\n\t\tlet { id, email, login } = data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t}\r\n\r\n}\r\n\r\nexport const postLogin = (email, password, rememberMe) => async (dispatch) => {\r\n\tlet data = await authAPI.postLogin(email, password, rememberMe);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(loginData());\r\n\t} else {\r\n\t\tdispatch(errorMessage(data.messages));\r\n\t\tconsole.log(data.messages);\r\n\t}\r\n\r\n}\r\n\r\nexport const deleteLogin = () => async (dispatch) => {\r\n\t\tlet data = await authAPI.deleteLogin();\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { deleteLogin } from \"../../Redux/auth-reducer\";\r\nimport { compose } from \"redux\";\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default compose(connect(mapStateToProps, { deleteLogin }))(HeaderContainer);","import classes from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={classes.nav}>\r\n\t\t\t<div className={classes.nav__item}><NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink></div>\r\n\t\t\t<div className={classes.nav__item}><NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink></div>\r\n\t\t\t<div className={classes.nav__item}><NavLink to='/users' activeClassName={classes.active}>Users</NavLink></div>\r\n\t\t\t<div className={classes.nav__item}><a>News</a></div>\r\n\t\t\t<div className={classes.nav__item}><a>Music</a></div>\r\n\t\t\t<br />\r\n\t\t\t<div className={classes.nav__item}><a>Settings</a></div>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Navbar;","import s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.avatar} src={props.avatar} />\r\n      <span className={s.nickname}>{props.name}:</span>\r\n      <span className={s.postText}>{props.post}</span>\r\n      <span className={s.likesCount}>\r\n        {props.likesCount}\r\n        <img className={s.like} src=\"https://cdn.icon-icons.com/icons2/906/PNG/512/thumb-up_icon-icons.com_69847.png\" />\r\n\r\n      </span>\r\n      <span className={s.dislikesCount}>\r\n        {props.dislikesCount}\r\n        <img className={s.dislike} src=\"https://pngimg.com/uploads/dislike/dislike_PNG81.png\" />\r\n      </span>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import s from \"./MyPosts.module.css\";\r\nimport Post from \"./MyPosts/Post\";\r\nconst MyPosts = (props) => {\r\n\r\n  let postElements = props.posts\r\n    .map(p => (<Post name={p.name} post={p.post} likesCount={p.likesCount} key={p.id} dislikesCount={p.dislikesCount} avatar={p.avatar} />));\r\n  return (\r\n    <div className={s.item}>\r\n      {postElements}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts;","import { connect } from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return{\r\n    posts: state.profilePage.posts\r\n  }\r\n}\r\n\r\nlet MyPostsContainer = connect(mapStateToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'SET-USER-STATUS';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ name: 'Goat', post: \"Hello\", likesCount: '15', dislikesCount: '1', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' },\r\n\t\t{ name: 'Dog', post: \"World\", likesCount: '25', dislikesCount: '3', avatar: 'data:image/jpeg;base64,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' },\r\n\t\t{ name: 'God', post: \"I'm GOD\", likesCount: '666', dislikesCount: '999', avatar: 'https://pinkocean.pl/wp-content/uploads/2020/10/Cima_da_Conegliano2C_God_the_Father.jpg' },\r\n\t],\r\n\tuser: [\r\n\t\t{ name: 'Daniel', surname: 'Radcliffe' }\r\n\t],\r\n\tuserProfile: null,\r\n\tuserStatus: null,\r\n\tnewPostText: 'Hello there',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 10,\r\n\t\t\t\tname: 'hz',\r\n\t\t\t\tpost: state.newPostText,\r\n\t\t\t\tlikesCount: 0,\r\n\t\t\t\tdislikesCount: 0,\r\n\t\t\t\tavatar: 'https://pinkocean.pl/wp-content/uploads/2020/10/Cima_da_Conegliano2C_God_the_Father.jpg'\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: '',\r\n\r\n\t\t\t}\r\n\t\tcase UPDATE_NEW_POST_TEXT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewPostText: action.newPost\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserProfile: action.profile,\r\n\t\t\t}\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserStatus: action.status,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPost = () => ({ type: ADD_POST })\r\nexport const updateNewPostText = (text) => ({ type: UPDATE_NEW_POST_TEXT, newPost: text })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tlet data = await profileAPI.getProfileData(userId);\r\n\tdispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tlet data = await profileAPI.getStatus(userId);\r\n\tdispatch(setUserStatus(data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tlet data = await profileAPI.updateStatus(status);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setUserStatus(status))\r\n\t}\r\n}\r\n\r\nexport default profileReducer;","import s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t<img className={s.preloader} src='https://i.pinimg.com/originals/a4/2b/9b/a42b9b720c210efc4cfbb25d73e0a78a.gif' />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader;","export default __webpack_public_path__ + \"static/media/user.a70779f1.png\";","import React from 'react';\r\nimport s from './ProfileStatus.module.css'\r\n\r\nclass ProfileStatus extends React.Component {\r\n\tstate = { editMode: false, status: this.props.status }\r\n\tactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: true\r\n\t\t})\r\n\t}\r\n\tdeactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: false\r\n\t\t})\r\n\t\tthis.props.updateStatus(this.state.status);\r\n\t}\r\n\tdeactivateOnKeydown = (event) => {\r\n\t\tif (event.keyCode === 13) {\r\n\t\t\tthis.setState({\r\n\t\t\t\teditMode: false\r\n\t\t\t})\r\n\t\t\tthis.props.updateStatus(this.state.status);\r\n\t\t}\r\n\t}\r\n\tonStatusChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tstatus: e.currentTarget.value,\r\n\t\t});\r\n\t\tconsole.log('OnChange');\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconsole.log('DidAmount');\r\n\t\tif (prevProps.status !== this.props.status) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstatus: this.props.status\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={s.profileStatus}>\r\n\t\t\t\t{!this.state.editMode\r\n\t\t\t\t\t? this.props.status\r\n\t\t\t\t\t\t? <div><span onClick={this.activateEditMode}>{this.props.status}</span></div> : <div><span onClick={this.activateEditMode}>No status</span></div>\r\n\t\t\t\t\t: <div><input ref={this.statusInputRef} autoFocus={true} onBlur={this.deactivateEditMode} onChange={this.onStatusChange}\r\n\t\t\t\t\t\tonKeyDown={this.deactivateOnKeydown} value={this.state.status} /></div>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ProfileStatus;","import React, { useEffect, useState } from 'react';\r\nimport s from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\tconst [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status);\r\n\t}, [props.status]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t}\r\n\tconst onKeyDownDeactivateEditMode = (event) => {\r\n\t\tif (event.keyCode === 13) {\r\n\t\t\tsetEditMode(false);\r\n\t\t\tprops.updateStatus(status);\r\n\r\n\t\t}\r\n\t}\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.profileStatus}>\r\n\t\t\t{!editMode\r\n\t\t\t\t? <div><span onClick={activateEditMode}>{props.status}</span></div>\r\n\t\t\t\t: <div><input onChange={onStatusChange} onClick={deactivateEditMode} onBlur={deactivateEditMode} onKeyDown={onKeyDownDeactivateEditMode} autoFocus={true} value={status} /></div>}\r\n\t\t</div>\r\n\r\n\t)\r\n}\r\n\r\nexport default ProfileStatusHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/preloader/Preloader'\r\nimport userAvatar from '../../../assets/images/user.png'\r\nimport ProfileStatus from './ProfileStatus';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\nconst ProfileInfo = (props) => {\r\n\tlet newPostRef = React.createRef();\r\n\tlet onAddPost = () => {\r\n\t\tif (newPostRef.current.value)\r\n\t\t\tprops.addPost();\r\n\t};\r\n\tlet onPostChange = () => {\r\n\t\tlet text = newPostRef.current.value;\r\n\t\tprops.updateNewPostText(text);\r\n\t}\r\n\tif (!props.userProfile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\treturn (\r\n\t\t<div className={s.profileInfo}>\r\n\t\t\t<div className={s.profileHeader}>\r\n\t\t\t\t<div className={s.profileHeaderImg}><img className={s.profile__img1} src=\"https://www.groovypost.com/wp-content/uploads/2019/07/sunset-beach-phone-photos-featured.jpg\" /></div>\r\n\t\t\t\t<div className={s.profileHeaderAvatar}><img className={s.profileAvatar} src={props.userProfile.photos.large ? props.userProfile.photos.large : userAvatar} alt=\"\" /></div>\r\n\t\t\t</div>\r\n\t\t\t<ProfileStatusHooks status={props.status} updateStatus={props.updateStatus} />\r\n\t\t\t<div className={s.usersInfo}>\r\n\t\t\t\t<div className={s.profileName}>Profile of {props.userProfile.fullName}</div>\r\n\t\t\t\t<div className={s.about}>About me: {props.userProfile.aboutMe}</div>\r\n\t\t\t\t<div className={s.inst}>Inst: {props.userProfile.contacts.instagram ? props.userProfile.contacts.instagram : 'No Data'}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.profileContent}>\r\n\t\t\t\t<div className={s.profilePosts}>\r\n\t\t\t\t\t<div><textarea ref={newPostRef} onChange={onPostChange} value={props.newPostText} placeholder='Input text...' cols=\"40\" rows=\"5\" /></div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div><button className={s.postMessageBtn} onClick={onAddPost}>Add Post</button></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t);\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { updateNewPostText, addPost, updateStatus } from '../../../Redux/profile-reducer';\r\nimport ProfileInfo from './ProfileInfo';\r\n\r\nclass ProfileInfoContainer extends React.Component {\r\n\trender() {\r\n\t\treturn <ProfileInfo {...this.props} />\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tstate: state,\r\n\t\tnewPostText: state.profilePage.newPostText,\r\n\t\tuserName: state.profilePage.user[0].name,\r\n\t\tuserSurname: state.profilePage.user[0].surname,\r\n\t}\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, { addPost, updateNewPostText, updateStatus }))(ProfileInfoContainer);","import s from \"./Profile.module.css\";\r\nimport MyPostsContainer from \"./Posts/MyPostsContainer\"\r\nimport ProfileInfoContainer from \"./ProfileInfo/ProfileInfoContainer\";\r\n\r\nconst Profile = (props) => {\r\n  if (props.isAuth) {\r\n    return (\r\n      <div className={s.profile}>\r\n        <ProfileInfoContainer userProfile={props.userProfile} status={props.userStatus} />\r\n        <MyPostsContainer userProfile={props.userProfile} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass authRedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to={'/login'} />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\tlet connectAuthRedirectComponent = connect(mapStateToPropsRedirect)(authRedirectComponent);\r\n\treturn connectAuthRedirectComponent;\r\n}\r\n","import Profile from './Profile';\r\nimport { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { getUserProfile, getUserStatus, updateStatus } from '../../Redux/profile-reducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { authAPI } from '../../api/api';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId && this.props.isAuth) {\r\n      userId = this.props.myId;\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <Profile {...this.props} userStatus={this.props.userStatus} />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    userProfile: state.profilePage.userProfile,\r\n    userStatus: state.profilePage.userStatus,\r\n    status: state.profilePage.userStatus,\r\n    myId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\n\r\nlet urlData = compose(connect(mapStateToProps, { getUserProfile, getUserStatus, updateStatus }), withRouter, withAuthRedirect)(ProfileContainer);\r\n\r\nexport default urlData;","import s from './Dialog.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Dialog = (props) => {\r\n\tlet path = '/dialogs/' + props.id;\r\n\r\n\treturn (\r\n\t\t<div className={s.dialog}> <img className={s.dialogs_img} src={props.avatar} /> <NavLink to={path} >{props.name}</NavLink></div>\r\n\t);\r\n};\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n\t\t<div className={s.message}>\r\n\t\t\t{props.message} \r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Message;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_DIALOG_TEXT = 'UPDATE-NEW-DIALOG-TEXT';\r\n\r\nlet initialState =\r\n \t{\r\n\tdialogs:[\r\n\t\t\t{ id: 1, name: 'Pavel', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg'},\r\n\t\t\t{ id: 2, name: 'Jack', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' },\r\n\t\t\t{ id: 3, name: 'Andrew', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' },\r\n\t\t\t{ id: 4, name: 'Anna', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' },\r\n\t\t\t{ id: 5, name: 'Fill', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' },\r\n\t\t\t{ id: 6, name: 'Tom', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' },\r\n\t\t\t{ id: 7, name: 'NoName', avatar: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg' }\r\n\t\t],\r\n\t\tmessages:[\r\n\t\t\t{ id: 1, message: '1' },\r\n\t\t\t{ id: 2, message: '2' },\r\n\t\t\t{ id: 3, message: '3' },\r\n\t\t\t{ id: 4, message: '4' },\r\n\t\t\t{ id: 5, message: '5' },\r\n\t\t\t{ id: 6, message: '6' },\r\n\t\t\t{ id: 7, message: '7' }\r\n\t\t],\r\n\t\tnewPostText: 'Hello',\r\n\t}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet body = state.newPostText;\r\n\t\t\tlet newMessage = {id: 10,message: body};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, newMessage],\r\n\t\t\t\tnewPostText: '',\r\n\t\t\t}\r\n\t\tcase UPDATE_NEW_DIALOG_TEXT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewPostText: action.newPost,\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\treturn state;\t\r\n\t}\r\n}\r\n\r\nexport const updateNewDialogActionCreator = (text) => {\r\n\treturn{\r\n\t\ttype: UPDATE_NEW_DIALOG_TEXT,\r\n\t\tnewPost: text\r\n\t}\r\n}\r\n\r\nexport const sendMessageCreator = () => {\r\n\treturn{\r\n\t\ttype: SEND_MESSAGE\r\n\t}\r\n}\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport s from './AddMessage.module.css';\r\nconst AddMessage = (props) => {\r\n\tlet newPostRef = React.createRef();\r\n\tlet addMessage = () => {\r\n\t\tif (newPostRef.current.value)\r\n\t\t\tprops.sendMessage();\r\n\t};\r\n\tlet onMessageChange = (e) => {\r\n\t\tlet text = e.target.value;\r\n\t\tprops.updateNewMessage(text);\r\n\t}\r\n\treturn (\r\n\t\t<div className={s.addPost}>\r\n\t\t\t<textarea ref={newPostRef} className={s.addPostItem} onChange={onMessageChange} placeholder='Input text...' cols=\"35\" value={props.newPostText} rows=\"1\" />\r\n\t\t\t<div className={s.addPostItem}><button className={s.postMessageBtn} onClick={addMessage}>SEND</button></div>\r\n\t\t</div>\r\n\r\n\t);\r\n};\r\n\r\nexport default AddMessage;","import { connect } from 'react-redux';\r\nimport { updateNewDialogActionCreator, sendMessageCreator } from '../../../Redux/dialogs-reducer';\r\nimport AddMessage from './AddMessage';\r\n\r\nlet mapStateToProps = (state) =>{\r\n\treturn{\r\n\t\tnewPostText: state.dialogsPage.newPostText\r\n\t}\r\n}\r\nlet mapDispatchToProps = (dispatch) =>{\r\n\treturn{\r\n\t\tsendMessage: () => {\r\n\t\t\tdispatch(sendMessageCreator());\r\n\t\t},\r\n\t\tupdateNewMessage: (text) =>{\r\n\t\t\tdispatch(updateNewDialogActionCreator(text));\r\n\t\t}\r\n\t}\r\n}\r\nlet addMessageContainer = connect(mapStateToProps, mapDispatchToProps)(AddMessage);\r\n\r\nexport default addMessageContainer;","import s from \"./Dialogs.module.css\";\r\nimport Dialog from './Dialog/Dialog';\r\nimport Message from './Message/Message';\r\nimport AddMessageContainer from \"./Message/AddMessageContainer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\tlet dialogsElements = props.dialogs\r\n\t\t.map(d => (<Dialog name={d.name} id={d.id} key={d.id} avatar={d.avatar} />));\r\n\r\n\tlet messagesElements = props.messages\r\n\t\t.map(m => (<Message message={m.message} key={m.id} />));\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogs_items}>\r\n\t\t\t\t{dialogsElements}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.dialogs_messages}>\r\n\t\t\t\t{messagesElements}\r\n\t\t\t\t<AddMessageContainer newPostText={props.newPostText} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dialogs;\r\n","import { connect } from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogs: state.dialogsPage.dialogs,\r\n\t\tmessages: state.dialogsPage.messages,\r\n\t\tnewPostText: state.dialogsPage.newPostText,\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default compose(withAuthRedirect,connect(mapStateToProps))(Dialogs);\r\n","import React from 'react';\r\nimport s from './Login.module.css'\r\nimport { Formik, Field } from 'formik';\r\nimport { Redirect } from 'react-router';\r\nimport * as yup from 'yup';\r\nconst LoginForm = (props) => {\r\n\tconst validationSchema = yup.object().shape({\r\n\t\temail: yup.string().typeError('Should be string').required('Fill in the field'),\r\n\t\tpassword: yup.string().typeError('Should be string').required('Fill in the field'),\r\n\t});\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\temail: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\trememberMe: false,\r\n\t\t\t}}\r\n\t\t\tvalidateOnBlur\r\n\t\t\tonSubmit={(values) => {\r\n\t\t\t\tprops.postLogin(values.email, values.password, values.rememberMe);\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t>\r\n\t\t\t{({ values, errors, touched, handleChange, handleBlur, isValid, handleSubmit, dirty }) => (\r\n\t\t\t\t<div className={s.formBlock}>\t\t\t\t<form className={s.form}>\r\n\t\t\t\t\t<h1 className={s.formTitle}>LOGIN</h1>\r\n\t\t\t\t\t<div><Field name={`email`} placeholder='Email' onChange={handleChange} onBlur={handleBlur} value={values.name} /></div>\r\n\t\t\t\t\t{touched.email && errors.email && <p className={s.error}>{errors.email}</p>}\r\n\t\t\t\t\t<div><Field name={`password`} type={'password'} onChange={handleChange} onBlur={handleBlur} value={values.name} /></div>\r\n\t\t\t\t\t{touched.password && errors.password && <p className={s.error}>{errors.password}</p>}\r\n\t\t\t\t\t<div><Field type='checkbox' className={s.formRememberMe} name={'rememberMe'} onChange={handleChange} defaultChecked={values.rememberMe} /><label>Remember Me</label></div>\r\n\t\t\t\t\t{props.isError && <div className={s.error}>{props.errorMessage}</div>}\r\n\t\t\t\t\t<div><button className={s.submitBtn} disabled={!isValid && !dirty} onClick={handleSubmit} type={`submit`}>Login</button></div>\r\n\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t);\r\n};\r\n\r\nconst Login = (props) => {\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={'/profile'} />\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<LoginForm postLogin={props.postLogin} isError={props.isError} errorMessage={props.errorMessage} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Login from './Login';\r\nimport { postLogin } from '../../Redux/auth-reducer';\r\nimport s from './Login.module.css'\r\n\r\nclass LoginContainer extends React.Component {\r\n\trender() {\r\n\t\treturn <Login {...this.props} />\r\n\t}\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\terrorMessage: state.auth.errorMessage,\r\n\t\tisError: state.auth.isError,\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, { postLogin })(LoginContainer);","import { usersAPI } from '../api/api';\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst UPDATE_PAGE = 'UPDATE-PAGE';\r\nconst TOGGLE_FETCHING = 'TOGGLE-FETCHING';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING-IN-PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId)\r\n\t\t\t\t\t\treturn { ...u, followed: true }\r\n\t\t\t\t\treturn u;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId)\r\n\t\t\t\t\t\treturn { ...u, followed: false }\r\n\t\t\t\t\treturn u;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\tcase UPDATE_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.newPage\r\n\t\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.count\r\n\t\t\t}\r\n\t\tcase TOGGLE_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching,\r\n\t\t\t}\r\n\t\tcase FOLLOWING_IN_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFollowing\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id != action.userId),\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSucces = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const updatePage = (newPage) => ({ type: UPDATE_PAGE, newPage })\r\nexport const setTotalUsersCount = (count) => ({ type: SET_TOTAL_USERS_COUNT, count })\r\nexport const toggleFetching = (isFetching) => ({ type: TOGGLE_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFollowing, userId) => ({ type: FOLLOWING_IN_PROGRESS, isFollowing, userId })\r\n\r\n\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleFetching(true));\r\n\tlet data = await usersAPI.getUsers(currentPage, pageSize)\r\n\tdispatch(toggleFetching(false));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst FollowUnfollowFlow = async (idUser, dispatch, APIMethod, ActionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, idUser));\r\n\tlet data = await APIMethod;\r\n\tif (data.resultCode === 0)\r\n\t\tdispatch(ActionCreator(idUser));\r\n\tdispatch(toggleFollowingProgress(false, idUser));\r\n}\r\n\r\nexport const follow = (idUser) => async (dispatch) => {\r\n\tlet APIMethod = usersAPI.postFollow(idUser);\r\n\tlet ActionCreator = followSucces;\r\n\tFollowUnfollowFlow(idUser, dispatch, APIMethod, ActionCreator);\r\n\r\n}\r\n\r\nexport const unfollow = (idUser) => async (dispatch) => {\r\n\tlet APIMethod = usersAPI.deleteFollow(idUser);\r\n\tlet ActionCreator = unfollowSucces;\r\n\tFollowUnfollowFlow(idUser, dispatch, APIMethod, ActionCreator);\r\n}\r\n\r\n\r\nexport default usersReducer;","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport s from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { usersAPI } from '../../api/api';\r\nimport { updatePage } from '../../Redux/users-reducer';\r\nlet Users = (props) => {\r\n\tlet pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\tlet pages = [];\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages[i - 1] = i;\r\n\t}\r\n\tconst [page, setPage] = useState(props.currentPage);\r\n\tconst onPreviousPageClick = () => {\r\n\t\tif (page > 1) {\r\n\t\t\tsetPage(page - 1);\r\n\t\t\tprops.onPageChange(page - 1)\r\n\t\t}\r\n\t}\r\n\tconst onNextPageClick = () => {\r\n\t\tsetPage(page + 1);\r\n\t\tprops.onPageChange(page + 1)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.usersPage}>\r\n\t\t\t<div className={s.users}>\r\n\t\t\t\t{props.users.map(u =>\r\n\t\t\t\t\t<div key={u.id} className={s.usersContent}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div><NavLink to={`/profile/${u.id}`}><img className={s.usersAvatar} src={u.photos.small != null ? u.photos.small : userPhoto} /></NavLink></div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{u.followed\r\n\t\t\t\t\t\t\t\t\t? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => { { props.unfollow(u.id) } }} className={s.followBtn}>unfollow</button>\r\n\t\t\t\t\t\t\t\t\t: <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => { { props.follow(u.id) } }} className={s.followBtn}>follow</button>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.usersInfo}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>{u.name}</div>\r\n\t\t\t\t\t\t\t\t<div>{u.status != null ? u.status : 'No Status'}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t<div className={s.pageNumbers}>\r\n\t\t\t\t\t{page > 1 ?\r\n\t\t\t\t\t\t<div onClick={onPreviousPageClick} className={`s.paginationItem ${s.previousPagination}`}>Previous</div>\r\n\t\t\t\t\t\t: false\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage > 3 ?\r\n\t\t\t\t\t\t\t<div onClick={(e) => props.onPageChange(1)} className={(page === 1 ? `s.selectedPage ${s.paginationItem}` : s.paginationItem)}>{1}</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<div className={s.pagesPagination}>\r\n\t\t\t\t\t\t\t{page - 2 >= 1 && page - 2 <= pages.length\r\n\t\t\t\t\t\t\t\t? <div onClick={(e) => props.onPageChange(page - 2)} className={page === page - 2 ? `s.selectedPage ${s.paginationItem}` : s.paginationItem}>{page - 2}</div>\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{page - 1 >= 1 && page - 1 <= pages.length\r\n\t\t\t\t\t\t\t\t? <div onClick={(e) => props.onPageChange(page - 1)} className={page === page - 1 ? `s.selectedPage ${s.paginationItem}` : s.paginationItem}>{page - 1}</div>\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{page >= 1 && page <= pages.length\r\n\t\t\t\t\t\t\t\t? <div onClick={(e) => props.onPageChange(page)} className={page === page ? `s.selectedPage ${s.paginationItem}` : s.paginationItem}>{page}</div>\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{page + 1 >= 1 && page + 1 <= pages.length\r\n\t\t\t\t\t\t\t\t? <div onClick={(e) => props.onPageChange(page + 1)} className={page === page + 1 ? `s.selectedPage ${s.paginationItem}` : s.paginationItem}>{page + 1}</div>\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{page + 2 >= 1 && page + 2 <= pages.length\r\n\t\t\t\t\t\t\t\t? <div onClick={(e) => props.onPageChange(page + 2)} className={page === page + 2 ? `s.selectedPage ${s.paginationItem}` : s.paginationItem}>{page + 2}</div>\r\n\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage < pages.length - 2 ?\r\n\t\t\t\t\t\t\t<div onClick={(e) => props.onPageChange(pages.length)} className={page === pages.length ? `s.selectedPage ${s.paginationItem}` : s.paginationItem}>{pages.length}</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage < pages.length ?\r\n\t\t\t\t\t\t\t<div onClick={onNextPageClick} className={`s.paginationItem ${s.nextPagination}`}>Next</div>\r\n\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t);\r\n\r\n}\r\n\r\nexport default Users;\r\n","export let getUsersList = (state) => {\r\n\treturn state.usersPage.users;\r\n};\r\n\r\nexport let getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n};\r\n\r\nexport let getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n};\r\n\r\nexport let getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport let getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n};\r\n\r\nexport let getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n};\r\n\r\nexport let getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport {\r\n\tfollowSucces, unfollowSucces, updatePage,\r\n\tgetUsers, follow, unfollow\r\n} from \"../../Redux/users-reducer\"\r\nimport { connect } from \"react-redux\";\r\nimport Users from './Users';\r\nimport Preloader from '../common/preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, getFollowingInProgress, getPageSize, getTotalUsersCount, getIsFetching, getUsersList } from '../../Redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n\t}\r\n\tonPageChange = (page) => {\r\n\t\tthis.props.updatePage(page);\r\n\t\tthis.props.getUsers(page, this.props.pageSize);\r\n\t}\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader /> : <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize} users={this.props.users}\r\n\t\t\t\tcurrentPage={this.props.currentPage} onPageChange={this.onPageChange} follow={this.props.follow} unfollow={this.props.unfollow}\r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress} followSucces={this.props.followSucces} unfollowSucces={this.props.unfollowSucces}\r\n\t\t\t/>}\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsersList(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state),\r\n\t};\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n\tfollowSucces, unfollowSucces, updatePage,\r\n\tgetUsers, follow, unfollow,\r\n}), withAuthRedirect)(UsersContainer);","import { loginData } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALAIZED = 'SET-INITIALAIZED';\r\nconst SET_ERROR_MESSAGE = 'SET-ERROR-MESSAGE';\r\n\r\nlet initialState = {\r\n\tinitialaized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_INITIALAIZED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialaized: true,\r\n\t\t\t}\r\n\t\tcase SET_ERROR_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.message,\r\n\t\t\t\tisError: true,\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setInitialaized = () => ({ type: SET_INITIALAIZED });\r\n\r\n\r\nexport const initializeApp = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(loginData());\r\n\r\n\t\tPromise.all([promise]).then(() => {\r\n\t\t\tdispatch(setInitialaized());\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport default appReducer;","import './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport LoginContainer from './components/Login/LoginContainer'\nimport { Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport React from 'react';\nimport { initializeApp } from './Redux/app-reducer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './components/common/preloader/Preloader';\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized)\n      <Preloader />\n\n    return (\n      <div className=\"wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"wrapper__content\">\n          <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\n          <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <LoginContainer />} />\n        </div>\n      </div>\n    )\n  };\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n\n  }\n}\n\nexport default compose(connect(mapStateToProps, { initializeApp }), withRouter)(App);\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState,action) => {\r\n\t\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers(\r\n\t{\r\n\t\tprofilePage: profileReducer,\r\n\t\tdialogsPage: dialogsReducer,\r\n\t\tsidebarPage: sidebarReducer,\r\n\t\tusersPage: usersReducer,\r\n\t\tauth: authReducer,\r\n\t\tapp: appReducer,\r\n\t}\r\n);\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './Redux/redux-store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nlet rerenderEntireTree = (state) => {\n\tReactDOM.render(\n\t\t<BrowserRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</BrowserRouter>,\n\t\tdocument.getElementById('root')\n\t);\n}\nrerenderEntireTree(store.getState);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitBtn\":\"Login_submitBtn__RohgY\",\"error\":\"Login_error__3EbSl\",\"formBlock\":\"Login_formBlock__3Mc39\",\"form\":\"Login_form__1PC3-\",\"formTitle\":\"Login_formTitle__2HweU\",\"formRememberMe\":\"Login_formRememberMe__NI7Wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__27x0L\",\"postText\":\"Post_postText__1qFls\",\"nickname\":\"Post_nickname__BH3tK\",\"avatar\":\"Post_avatar__7ZjdC\",\"like\":\"Post_like__2Ihul\",\"dislike\":\"Post_dislike__2RvOU\",\"likesCount\":\"Post_likesCount__nk8Ny\",\"dislikesCount\":\"Post_dislikesCount__2v6g9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2pA02\",\"logo\":\"Header_logo__2NAvl\",\"logoTitle\":\"Header_logoTitle__1O4VH\",\"loginBlock\":\"Header_loginBlock__1tnYe\",\"logined\":\"Header_logined__3PNks\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addPostTextSpan\":\"AddMessage_addPostTextSpan__3dmDy\",\"addPost\":\"AddMessage_addPost__3lbz1\",\"postMessageBtn\":\"AddMessage_postMessageBtn__1P2yf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatus\":\"ProfileStatus_profileStatus__1Sjgq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__11oey\",\"dialogs_items\":\"Dialogs_dialogs_items__l6736\",\"dialogs_messages\":\"Dialogs_dialogs_messages__3ugaC\",\"dialog\":\"Dialogs_dialog__6ejwv\",\"message\":\"Dialogs_message__3fW9_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersAvatar\":\"Users_usersAvatar__3O6lY\",\"usersContent\":\"Users_usersContent__1vsGY\",\"usersInfo\":\"Users_usersInfo__FtR7x\",\"followBtn\":\"Users_followBtn__3_4d4\",\"selectedPage\":\"Users_selectedPage__3eNu_\",\"pageNumbers\":\"Users_pageNumbers__3ad5A\",\"pagesPagination\":\"Users_pagesPagination__1XGgC\",\"paginationItem\":\"Users_paginationItem__cQM7K\",\"nextPagination\":\"Users_nextPagination__3tUKg\",\"previousPagination\":\"Users_previousPagination__30PcZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3OPeJ\",\"dialogs_img\":\"Dialog_dialogs_img__3xsYy\"};"],"sourceRoot":""}